# FreeBackend - åŠŸèƒ½å®Œæ•´çš„Node.jsåç«¯APIæœåŠ¡

ä¸€ä¸ªåŸºäºExpress.jsæ„å»ºçš„ç°ä»£åŒ–ã€å¯æ‰©å±•çš„åç«¯APIæœåŠ¡ï¼Œæä¾›ç”¨æˆ·ç®¡ç†ã€è®¤è¯æˆæƒã€æ–‡ä»¶å¤„ç†ç­‰æ ¸å¿ƒåŠŸèƒ½ã€‚

## ğŸš€ ç‰¹æ€§

- âœ… **ç”¨æˆ·ç®¡ç†** - å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•ã€ä¿¡æ¯ç®¡ç†åŠŸèƒ½
- âœ… **JWTè®¤è¯** - å®‰å…¨çš„JWTä»¤ç‰Œè®¤è¯å’Œæˆæƒæœºåˆ¶
- âœ… **æ–‡ä»¶ä¸Šä¼ ** - æ”¯æŒå¤šç§æ–‡ä»¶æ ¼å¼çš„ä¸Šä¼ å’Œå¤„ç†
- âœ… **æ•°æ®éªŒè¯** - åŸºäºJoiçš„è¯·æ±‚æ•°æ®éªŒè¯
- âœ… **æ—¥å¿—ç³»ç»Ÿ** - å®Œæ•´çš„æ—¥å¿—è®°å½•å’Œç›‘æ§
- âœ… **å®‰å…¨é˜²æŠ¤** - Helmetã€CORSã€é€Ÿç‡é™åˆ¶ç­‰å®‰å…¨æªæ–½
- âœ… **æ•°æ®åº“æ”¯æŒ** - MySQLæ•°æ®åº“é›†æˆï¼ˆSequelize ORMï¼‰
- âœ… **Dockeræ”¯æŒ** - å®Œæ•´çš„å®¹å™¨åŒ–éƒ¨ç½²æ–¹æ¡ˆ
- âœ… **APIæ–‡æ¡£** - è‡ªåŠ¨ç”Ÿæˆçš„APIæ–‡æ¡£
- âœ… **é”™è¯¯å¤„ç†** - ç»Ÿä¸€çš„é”™è¯¯å¤„ç†æœºåˆ¶

## ğŸ“‹ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 18.0.0
- MySQL >= 8.0
- npm >= 8.0.0

### å®‰è£…æ­¥éª¤

1. **å…‹éš†é¡¹ç›®**
   ```bash
   git clone <repository-url>
   cd FreeBackend
   ```

2. **å®‰è£…ä¾èµ–**
   ```bash
   npm install
   ```

3. **é…ç½®ç¯å¢ƒå˜é‡**
   ```bash
   cp .env.example .env
   # ç¼–è¾‘ .env æ–‡ä»¶ï¼Œé…ç½®æ•°æ®åº“è¿æ¥ç­‰ä¿¡æ¯
   ```

4. **å¯åŠ¨æ•°æ®åº“**
   ```bash
   # ç¡®ä¿MySQLæœåŠ¡è¿è¡Œï¼Œå¹¶åˆ›å»ºæ•°æ®åº“
   mysql -u root -p -e "CREATE DATABASE freebackend;"
   ```

5. **å¯åŠ¨åº”ç”¨**
   ```bash
   # å¼€å‘æ¨¡å¼
   npm run dev
   
   # ç”Ÿäº§æ¨¡å¼
   npm start
   ```

### Dockeréƒ¨ç½²

```bash
# ä½¿ç”¨Docker Composeä¸€é”®éƒ¨ç½²
npm run docker:compose

# æˆ–è€…æ‰‹åŠ¨æ„å»ºå’Œè¿è¡Œ
npm run docker:build
npm run docker:run
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
src/
â”œâ”€â”€ app.js                 # åº”ç”¨ä¸»å…¥å£
â”œâ”€â”€ config/               # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ database.js       # æ•°æ®åº“é…ç½®
â”‚   â””â”€â”€ jwt.js           # JWTé…ç½®
â”œâ”€â”€ controllers/          # æ§åˆ¶å™¨å±‚
â”‚   â”œâ”€â”€ authController.js # è®¤è¯æ§åˆ¶å™¨
â”‚   â”œâ”€â”€ userController.js # ç”¨æˆ·æ§åˆ¶å™¨
â”‚   â””â”€â”€ toolsController.js # å·¥å…·æ§åˆ¶å™¨
â”œâ”€â”€ middleware/          # ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ auth.js          # è®¤è¯ä¸­é—´ä»¶
â”‚   â”œâ”€â”€ errorHandler.js  # é”™è¯¯å¤„ç†
â”‚   â”œâ”€â”€ logger.js        # æ—¥å¿—ä¸­é—´ä»¶
â”‚   â””â”€â”€ validation.js     # éªŒè¯ä¸­é—´ä»¶
â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ User.js          # ç”¨æˆ·æ¨¡å‹
â”‚   â””â”€â”€ index.js         # æ¨¡å‹åˆå§‹åŒ–
â”œâ”€â”€ routes/              # è·¯ç”±å®šä¹‰
â”‚   â”œâ”€â”€ auth.js          # è®¤è¯è·¯ç”±
â”‚   â”œâ”€â”€ users.js         # ç”¨æˆ·è·¯ç”±
â”‚   â”œâ”€â”€ tools.js         # å·¥å…·è·¯ç”±
â”‚   â””â”€â”€ index.js         # è·¯ç”±èšåˆ
â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘å±‚
â”‚   â”œâ”€â”€ authService.js   # è®¤è¯æœåŠ¡
â”‚   â”œâ”€â”€ userService.js   # ç”¨æˆ·æœåŠ¡
â”‚   â””â”€â”€ toolsService.js  # å·¥å…·æœåŠ¡
â””â”€â”€ utils/               # å·¥å…·å‡½æ•°
    â”œâ”€â”€ encryption.js    # åŠ å¯†å·¥å…·
    â””â”€â”€ fileHandler.js   # æ–‡ä»¶å¤„ç†
```

## ğŸ”§ APIæ¥å£

### è®¤è¯æ¥å£

- `POST /auth/register` - ç”¨æˆ·æ³¨å†Œ
- `POST /auth/login` - ç”¨æˆ·ç™»å½•
- `POST /auth/refresh` - åˆ·æ–°ä»¤ç‰Œ
- `POST /auth/verify` - éªŒè¯ä»¤ç‰Œ
- `PUT /auth/password` - ä¿®æ”¹å¯†ç 

### ç”¨æˆ·æ¥å£

- `GET /users` - è·å–ç”¨æˆ·åˆ—è¡¨ï¼ˆéœ€è¦è®¤è¯ï¼‰
- `GET /users/me` - è·å–å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦è®¤è¯ï¼‰
- `GET /users/:id` - è·å–æŒ‡å®šç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦è®¤è¯ï¼‰
- `PUT /users/me` - æ›´æ–°å½“å‰ç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦è®¤è¯ï¼‰
- `PUT /users/:id` - æ›´æ–°æŒ‡å®šç”¨æˆ·ä¿¡æ¯ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰
- `DELETE /users/:id` - åˆ é™¤ç”¨æˆ·ï¼ˆéœ€è¦ç®¡ç†å‘˜æƒé™ï¼‰

### å·¥å…·æ¥å£

- `POST /tools/convert` - æ–‡ä»¶æ ¼å¼è½¬æ¢
- `POST /tools/encrypt` - æ•°æ®åŠ å¯†
- `POST /tools/decrypt` - æ•°æ®è§£å¯†
- `GET /tools/captcha` - ç”ŸæˆéªŒè¯ç 
- `GET /tools/health` - å¥åº·æ£€æŸ¥

## âš™ï¸ é…ç½®è¯´æ˜

### ç¯å¢ƒå˜é‡

å¤åˆ¶ `.env.example` ä¸º `.env` å¹¶é…ç½®ä»¥ä¸‹å˜é‡ï¼š

```env
# åº”ç”¨é…ç½®
NODE_ENV=development
PORT=3000

# æ•°æ®åº“é…ç½®
DB_HOST=localhost
DB_PORT=3306
DB_NAME=freebackend
DB_USER=freebackend_user
DB_PASSWORD=your_password

# JWTé…ç½®
JWT_SECRET=your_jwt_secret
JWT_EXPIRES_IN=7d
```

### æ•°æ®åº“é…ç½®

é¡¹ç›®ä½¿ç”¨MySQLæ•°æ®åº“ï¼Œæ”¯æŒè‡ªåŠ¨åˆ›å»ºè¡¨ç»“æ„ã€‚ç¡®ä¿æ•°æ®åº“æœåŠ¡è¿è¡Œå¹¶åˆ›å»ºç›¸åº”çš„æ•°æ®åº“ã€‚

## ğŸ§ª æµ‹è¯•

```bash
# è¿è¡Œæµ‹è¯•
npm test

# è¿è¡Œæµ‹è¯•å¹¶ç”Ÿæˆè¦†ç›–ç‡æŠ¥å‘Š
npm run test:coverage

# ç›‘å¬æ¨¡å¼è¿è¡Œæµ‹è¯•
npm run test:watch
```

## ğŸ“Š ç›‘æ§å’Œæ—¥å¿—

- è®¿é—® `/health` ç«¯ç‚¹æŸ¥çœ‹æœåŠ¡å¥åº·çŠ¶æ€
- æ—¥å¿—æ–‡ä»¶ä¿å­˜åœ¨ `logs/` ç›®å½•
- æ”¯æŒç»“æ„åŒ–æ—¥å¿—è®°å½•

## ğŸ”’ å®‰å…¨ç‰¹æ€§

- JWTä»¤ç‰Œè®¤è¯
- å¯†ç åŠ å¯†å­˜å‚¨ï¼ˆbcryptï¼‰
- è¯·æ±‚é€Ÿç‡é™åˆ¶
- CORSè·¨åŸŸé…ç½®
- Helmetå®‰å…¨å¤´è®¾ç½®
- è¾“å…¥æ•°æ®éªŒè¯

## ğŸš¢ éƒ¨ç½²

### ä¼ ç»Ÿéƒ¨ç½²

```bash
# æ„å»ºå’Œå¯åŠ¨
npm install --production
npm start
```

### Dockeréƒ¨ç½²

```bash
# ä½¿ç”¨Docker Compose
docker-compose up -d

# æˆ–è€…ç›´æ¥ä½¿ç”¨Docker
docker build -t freebackend .
docker run -p 3000:3000 freebackend
```

### äº‘å¹³å°éƒ¨ç½²

æ”¯æŒéƒ¨ç½²åˆ°å„ç§äº‘å¹³å°ï¼ˆAWSã€Azureã€GCPã€é˜¿é‡Œäº‘ç­‰ï¼‰ã€‚

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤Issueå’ŒPull Requestæ¥æ”¹è¿›é¡¹ç›®ã€‚

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨MITè®¸å¯è¯ã€‚

## ğŸ“ æ”¯æŒ

å¦‚æœ‰é—®é¢˜ï¼Œè¯·æäº¤Issueæˆ–è”ç³»å¼€å‘å›¢é˜Ÿã€‚